# 자료구조

- 참고자료
[자료구조 - Data Structures with Python (신찬수)](https://youtube.com/playlist?list=PLsMufJgu5933ZkBCHS7bQTx0bncjwi4PK)
[C로 배우는 자료구조 (널널한 개발자)](https://youtube.com/playlist?list=PLXvgR_grOs1AiEXL3Xfy6yEZ7k2TL4rxy)

자료구조는 **데이터 베이스**를 이루는 기술이다. 많은 데이터를 관리하기 쉽게 구조화하다보니 자료구조가 탄생하게 되었다.

## Array 배열

배열의 가장 큰 특징은 **인덱스**를 사용해서 `O(1)`(상수시간)으로 데이터에 접근이 가능하다. 

```c
int arr[5] = {1, 3, 4, 2, 5};
```

5개의 정수를 담는 배열이 있다. 정수 한 개는 4바이트로 메모리에 4바이트의 공간이 5개 연달아서 할당된다. 실제로 연달아서 자리하기 때문에 가장 처음 데이터의 메모리 주소를 알면 각 데이터의 메모리 주소는 바로 계산할 수 있다. 

예를 들어 가장 처음 데이터의 주소가 `0x00`이라면 두번째 데이터의 주소는 정수형의 크기인 4바이트 만큼 건너뛰면 된다. `0x00 + 4bytes(int) * 1 = 0x04`다. 가장 처음 데이터의 주소는 변수 `arr`에 저장되어 있다. arr[2]는 내부적으로 `0x00(처음 데이터 주소) + 4bytes(int) * 2 = 0x08` 이렇게 주소를 계산해서 해당 주소에 들어있는 데이터를 반환해준다. 인덱스는 +,* 연산만 하면 되기 때문에 상수 시간으로 요소에 접근할 수 있다.

## List 리스트

자바나 파이썬에서는 **리스트**라는 자료형을 제공한다. 리스트는 배열에 다양한 기능이 추가된 확장된 자료구조라고 할 수 있다. 리스트는 데이터의 용량을 관리하는 로직을 갖고있다. 리스트를 사용하는 사람이 용량을 신경쓰지 않아도 된다. 이런 특징 때문에 리스트를 **Dynamic Array**라고도 한다.

## 선형 자료구조

- Array 배열, List 리스트
- Stack 스택, Queue 큐, Dequeue(Double Eened Queue) 디큐 
- Linked List 연결리스트

## Stack 스택

LIFO (last in first out) 후입선출, 즉 마지막에 추가된 요소가 가장 먼저 나가는 자료구조이다. 뷔페에 쌓여있는 접시를 생각하면 편하다. 

- 기능 
  - push : 요소 추가. `O(1)`
  - pop : 가장 마지막에 추가된 요소 삭제. `O(1)`
  - top : 가장 마지막에 추가된 요소 조회. `O(1)`
  - len : 스택의 요소 수 조회 `O(1)`

### postfix

`2+3*5` 같은 식을 **infix 수식**이라고 한다. postfix 수식을 사용하면 스택을 사용해서 계산하기 쉬워진다. 

- infix to postfix
  1. 괄호치기 : `(2+(3*5))`
  2. 연산자를 자신의 오른쪽 괄호로 이동 : `(2(35)*)+`
  3. 괄호제거 : `235*+`

`3*(2+5)*4` -> `((3*(2+5))*4)` -> `((3(25)+)*4)*` -> `325+*4*`

prefix 방식도 있다. postfix와 반대로 생각하면 된다.

## Queue 큐

FIFO (first in first out) 선입선출, 즉 처음 추가한 요소가 가장 먼저 나가는 자료구조다. 대기줄을 생각하면 된다.
 
## Linked List 연결리스트

## Hash Table 해시 테이블

해시 테이블은 삽입, 삭제, 조회를 상수시간에 할 수 있는 자료구조다. key와 value로 이루어진 데이터를 다룬다. 

데이터의 키를 `Hash function`에 넣어서 데이터가 담길 배열의 인덱스를 생성한다. 예를 들어 `나이:10, 이름:둘리` 라는 데이터를 해시 테이블에 저장하기 위해서는 먼저 key인 10을 hash function에 넣어서 배열의 인덱스를 구한다. 배열의 크기를 10으로 가정해서 해시 함수를 아주 간단하게 `key % 10(배열의 크기)`로 정할 수 있다. 둘리의 key를 해시 함수에 넣으면 인덱스 0을 구할 수 있다. (`10 % 10 = 0`) 따라서 둘리는 배열의 0번 인덱스에 저장된다. 

만약 `나이:20, 이름:마이콜` 을 해시 테이블에 저장하려고 하면 `collision`이 발생한다. 마이콜의 인덱스는 0인데 이미 인덱스 0에 둘리 데이터가 들어있기 때문이다. 이렇게 충돌이 발생하는 경우 해결하는 방법을 `collision resolution method` 라고 한다.

해시 테이블에서는 `hash function`과 `collision resolution method`이 성능에 큰 영향을 끼친다. 

## ADT - 추상자료형

**자료**와 **관리체계**를 분리하는 것이 핵심이다. 연결 리스트로 예를들면 지금까지는 node 구조체 안에 `데이터1, 데이터2, 데이터..., 이전 노드 포인터, 다음 노드 포인터`이런 식으로 담았다면 ADT를 사용하면 데이터는 다른 구조체로 분리한다. `데이터 구조체 포인터, 이전 노드 포인터, 다음 노드 포인터` 이런 식으로 말이다. 이렇게 분리하면 하나의 관리체계를 이용해서 다양한 자료를 다룰 수 있다.

# Tree 트리

2차원 구조를 갖는 **비선형 자료구조**다. 각 노드는 하나 이상의 하위 노드를 갖는다.

- 루트
  - 최상위 노드
- 부모와 자식
  - 상대적으로 다른 노드의 위에 있으면 **부모**, 아래에 있으면 **자식**이라고 한다.
- 리프
  - 자식이 없는 노드

트리에서는 **균형**이 중요한 요소다. 

<image width="400" src="https://s3.us-west-2.amazonaws.com/secure.notion-static.com/1c7e4e6d-f8cc-40cf-a29d-e2375dd39a8b/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230325%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230325T024254Z&X-Amz-Expires=86400&X-Amz-Signature=6dd269a8d1a7f6f0853a179067c77b140312a9bd9ff4b85d7b51a6bb2cec9800&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject"/>

대표적으로 균형이 맞는 트리는 **Red-Black Tree, AVL Tree**가 있다. 

<br/>

## 힙

조건을 만족하는 이진트리를 힙이라고 한다.

- 조건
  1. 모양 : 리프 노드가 왼쪽부터 채워지는 **완전 이진 트리**
  2. Heap 성질 : 부모 노드는 자식 노드와 같거나 커야 한다. 따라서 힙의 루트 노드는 모든 노드 중에 가장 크다.

- 제공 연산
  - insert : O(log n)
  - find-max : O(1)
  - delete-max : O(log n)

## Binary Tree 이진트리

자식 노드 최대 2개인 트리를 뜻한다. 트리 중 가장 많이 다뤄진다.

### Binary Search Tree 이진 탐색 트리

<image width="250" src="https://s3.us-west-2.amazonaws.com/secure.notion-static.com/2cd05b30-2513-48f3-a94e-1139980f1804/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230325%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230325T024024Z&X-Amz-Expires=86400&X-Amz-Signature=865388897026826e46308e6486e9aa92d0e3ef1498be47ac75e1bd1f985294d6&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject"/>

이진 트리가 **이진 탐색 트리**가 되기 위해서는 조건이 있다. 현재 노드를 기준으로 왼쪽 하위 모든 노드는 현재 노드 보다 작아야하고 반대로 오른쪽은 하위 모든 노드는 커야한다. 

### Complete Binary Tree 완전 이진 트리

<image width="500" src="https://s3.us-west-2.amazonaws.com/secure.notion-static.com/f11fdf9f-e183-481c-ab9e-9e33d6e1812f/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230325%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230325T025344Z&X-Amz-Expires=86400&X-Amz-Signature=e02b9c8f644515716ba1fa40f4dab8ba5a52aa7a49c860c9659a2abc17b7ae9e&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject"/>

리프 노드가 왼쪽부터 채워지는 이진 트리를 뜻 한다.

### Full Binary Tree 

<image width="500" src="https://s3.us-west-2.amazonaws.com/secure.notion-static.com/53379458-0414-4409-9dd8-679b07210d91/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230325%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230325T025736Z&X-Amz-Expires=86400&X-Amz-Signature=a8c0a90ed8a4707b75f0b8da04f81d8376f102c5799e43b1d6c58994f1619672&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject"/>

자식을 갖지 않거나 가지려면 2개를 모두 가지는 이진 트리를 뜻한다.

### Perfect Binary Tree

말 그대로 완벽한 상태다. 루트를 기준으로 정확히 **대칭**인 이진 트리를 뜻한다. 

## 이진 트리 순회 방법

이진 트리를 순회하는 방법은 3가지가 있다.

- Inorder   : Left, Root, Right
- Preorder  : Root, Left, Right
- Postorder : Left, Right, Root 

노드의 데이터를 출력하는 상황을 예시로 살펴본다. 모두 출력값은 1,2,3으로 동일하다.

### Inorder
```
   2
 /   \
1     3
```
### Preorder
```
   1
 /   \
2     3
```
### Inorder
```
   3
 /   \
1     2
```

## Binary Heap

**최소 값**이나 **최대 값**을 빠르게 찾기 위한 **완전 이진 트리 기반** 자료구조다.

<image width="500" src="https://s3.us-west-2.amazonaws.com/secure.notion-static.com/35b7323d-9df1-4928-9385-186b9ed36f4f/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230325%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230325T032754Z&X-Amz-Expires=86400&X-Amz-Signature=28d08c8c31923ceaaa83c3b1ad7d4ed188aa6992c64aa2961595e4baea4a0e29&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject"/>

Min Heap은 루트가 최소값이고 Max Heap은 루트가 최대 값이다.

## Trie

문자열을 빠르게 검색할 수 있는 트리다.

# Graph 그래프

